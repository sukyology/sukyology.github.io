<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>programming on sukyology</title><link>https://sukyology.github.io/posts/</link><description>Recent content in programming on sukyology</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Wed, 04 Aug 2021 20:27:27 +0900</lastBuildDate><atom:link href="https://sukyology.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>datasource-proxy를 활용해 n+1 쿼리 방지하기</title><link>https://sukyology.github.io/posts/test_with_ds_proxy/</link><pubDate>Fri, 10 Sep 2021 08:27:27 +0900</pubDate><guid>https://sukyology.github.io/posts/test_with_ds_proxy/</guid><description>기존 상황 n+1 쿼리를 db 호출 로그를 통해 육안으로 확인하고 있었습니다.
목적 테스트를 통해서 n+1 쿼리를 빠르게 방지할 수 있는 방법을 찾고 싶습니다.
해결 방안 datasource-proxy 라이브러리를 통해 실행한 쿼리문의 개수를 불러와서 예상한 쿼리문의 수와 맞는지 비교합니다.
설정 build.gradle.kts에 다음과 같은 내용을 dependencies에 추가합니다.
implementation(&amp;#34;net.ttddyy:datasource-proxy:1.7&amp;#34;) 그리고 spring-boot에서 proxybean을 생성하게 위해서 BeanPostProcessor를 하나 만들어서 등록해줍니다. 테스트에서만 사용할 거라 적절한 @Profile도 붙여줍니다.
@Configuration @Profile(&amp;#34;test&amp;#34;) class DatasourceProxyBeanPostProcessor : BeanPostProcessor { override fun postProcessAfterInitialization(bean: Any, beanName: String): Any?</description></item><item><title>코드 퀄리티를 높이는 방법과 왜 그래야 하는지 by Venkat</title><link>https://sukyology.github.io/posts/ways_to_improve_code_quality/</link><pubDate>Sat, 04 Sep 2021 20:27:27 +0900</pubDate><guid>https://sukyology.github.io/posts/ways_to_improve_code_quality/</guid><description>이 글은 (1) Reasons &amp;amp; Ways to Improve Code Quality • Venkat Subramaniam • GOTO 2021 - YouTube 의 저만의 해석 및 감상문입니다.
[TOC]
코드 품질을 왜 높여야만 하는가? 코드 품질을 높여야 하는 이유는 순전히 경제적인 이유 때문입니다.
코드의 품질이 낮아지면 코드의 가독성이 떨어지고 기능의 수정이나 개선을 하기 위해서 어떻게 해야 하는지 알아내기가 점점 어려워집니다. 그렇게 되면 시간을 많이 소요하게 될 것이고, 프로그래머들이 만들어내는 시간 대비 가치는 점점 낮아질 것입니다.</description></item><item><title>kotlin-spring 간단한 통합 테스트 설정 2</title><link>https://sukyology.github.io/posts/spring_integration_test_ex2/</link><pubDate>Thu, 26 Aug 2021 08:27:27 +0900</pubDate><guid>https://sukyology.github.io/posts/spring_integration_test_ex2/</guid><description>이전 포스트에서 testcontainers를 이용한 스프링 통합 테스트를 다뤘습니다. 이 포스트는 해당 포스트에서 작성한 환경 설정에서 더 나아가는 환경 설정을 다뤘습니다.
기존 상황 testcontainers를 통해 docker 가 설치된 곳이라면 어디서든 독립적으로 통합 테스트를 실행할 수 있도록 만들었습니다. 하지만! 여전히 문제가 있었습니다.
이전 포스트와 같은 설정으로 돌릴 경우, spring의 컨테이너가 시작하기 위해서 띄우는 db 컨테이너와 별개로 테스트에서 쓰기 위해 컨테이너를 하나 더 띄웁니다.
목적 docker container를 한번만 띄우고 싶다.</description></item><item><title>블로그 UPDATE LOG</title><link>https://sukyology.github.io/posts/blog-update-log/</link><pubDate>Sat, 14 Aug 2021 12:32:27 +0900</pubDate><guid>https://sukyology.github.io/posts/blog-update-log/</guid><description>2021-08-14 ga 적용 hugo는 ga를 내부 template을 통해서 지원해준다.
영어가 편하신 분은 gohugo#google-analytics 에서 보시길 추천한다.
theme 이 없다는 가정하에 다음과 같이 적용할 수 있다.
&amp;lt;head&amp;gt;엘레멘트가 있는 layout html파일에 {{ template &amp;quot;_internal/google_analytics.html&amp;quot; . }} 을 적용하고, 설정파일(.toml 이라고 가정) 에 googleAnalytics = &amp;lt;구글_애널리틱스_속성_ID&amp;gt; 를 입력하면 끝이다.
그럼에도 몇가지 삽질을 했다.
theme에서 {{ template &amp;quot;_internal/google_analytics.html&amp;quot; . }}을 적용할 때 production에서만 적용하도록 분기문이 적용되어 있었다. 내가 쓰는 ananke에서 production 판별 조건 중 하나가 HUGO_ENV=production이었는데, HUGO cli에서 -e 로 세팅할 수 있는 줄 알았는데, 아니었다.</description></item><item><title>신입은 언제 질문을 해야 하는 걸까?</title><link>https://sukyology.github.io/posts/when_should_beginner_ask/</link><pubDate>Sat, 07 Aug 2021 20:27:27 +0900</pubDate><guid>https://sukyology.github.io/posts/when_should_beginner_ask/</guid><description>신입은 언제 질문을 해야 하는 걸까요? 인터넷에서 종종 보는 질문입니다.
A: 사수가 질문을 듣고 기분이 안나빠질 때&amp;hellip;
는 농담이고&amp;hellip; 이 질문을 바꿔 말하면, 얼마나 고민 하고 질문을 해야 하는 건가요? 가 됩니다.
당연하게도, 각자의 선호도는 있을 지언정 명확한 기준은 없습니다. 그러니까 논쟁이 되는 거겠죠. 하지만, 단순히 케바케라는 일반적인 결론을 내기에는 내가 모르는 것에 대해서 얼마나 생각해 봐야 하나&amp;hellip; 는 중요한 주제이고, 신입으로 조직 생활을 해 나가기 위해 자신만의 답이 필요합니다.</description></item><item><title>kotlin-spring 간단한 통합 테스트 설정</title><link>https://sukyology.github.io/posts/spring_integration_test_ex/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://sukyology.github.io/posts/spring_integration_test_ex/</guid><description>해당 post의 개선 사항을 새로운 글에 올렸습니다. 새로운 글을 적고보니 반말로 썼군요. 앞으로는 존댓말로 쓰겠습니다. 이글을 읽고 불편했던 분들이 있었다면 죄송합니다.
기존 상황 로컬 DB를 사용하여 스프링 통합 테스트를 하고 있었다.
개발망에 서버를 올리고, 추가적인 테스트를 하고 있었다.
목적 코너케이스나 데이터 정합성까진 아니더라도 기본적인 api의 동작 여부는 코드가 변경될 때 마다 자동으로 체크하고 싶다.
해결 방법 db의 멱등성 부여 docker container를 테스트마다 생성함.</description></item></channel></rss>